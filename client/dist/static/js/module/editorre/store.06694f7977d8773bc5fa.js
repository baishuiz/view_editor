webpackJsonp([6],{755:function(e,t,n){n(28),e.exports=n(94)},94:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),o=n(362),a=n(354),c=new a(a.BASE16);r.default.use(o.a);var i=function(e,t){if(!e||e.length<1)return!1;var n,r=[];e.forEach(function(e,t){r.push(e)});for(var o;r.length;){o=r.shift();var a=o.content;if(a&&a.length>0&&function(e,t){return e.some(function(e){return e.$$key===t})}(a,t)){n=o;break}a&&a.length>0&&(r=r.concat(a))}return n},u=function(e,t){if(!e||e.length<1)return!1;var n,r=[];e.forEach(function(e,t){r.push(e)});for(var o;r.length;){if(o=r.shift(),o.$$key===t){n=o;break}var a=o.content;a&&a.length>0&&(r=r.concat(a))}return n},g={base:{id:"",t_type:"",title:"",desc:"",img_cover:"",platform_type:0,page_type:0,update_time:""},json:[],currentComKey:"",clientWidth:375},m={getBaseData:function(e){return e.base},getComType:function(e){return e.base.t_type},getPageData:function(e){return e.json},getCurrentComKey:function(e){return e.currentComKey},getCurrentCom:function(e,t){var n=t.getPageData,r=t.getCurrentComKey;return u(n,r)},clientWidth:function(e){return e.clientWidth}},f={ADD_ROOT:function(e,t){var n=e.json.length;r.default.set(e.json,n,t),e.currentComKey=t.$$key},ADD_COM:function(e,t){r.default.set(t.cc.content,t.cc.content.length,t.chc),e.currentComKey=t.chc.$$key},UPDATE_COM:function(e,t){t.currentCom=t.data},CHANGE_COM_KEY:function(e,t){e.currentComKey=t},SET_BASE:function(e,t){e.base.id=t.id,e.base.title=t.title,e.base.desc=t.desc,e.base.img_cover=t.img_cover,e.base.t_type=t.t_type,e.base.platform_type=t.platform_type,e.base.page_type=t.page_type},SET_PAGE:function(e,t){t&&t.length>0&&(e.json=t)},DEL_COM:function(e,t){var n=void 0;t.parent.some(function(e,r){return e.$$key===t.key.$$key&&(n=r,!0)}),r.default.delete(t.parent,n),e.currentComKey=""},SORT_COM:function(e,t){t.parent.splice(t.dragIndex,1),t.parent.splice(t.dropIndex,0,t.dragEle)},SET_CLIENT_WIDTH:function(e,t){e.clientWidth=t}},s={addContainer:function(e,t){var n=e.commit;return new Promise(function(e,r){var o="cp-"+c.generate();t.page.$$key=o,t.page.id=o,n("ADD_ROOT",t.page),e(t.page)})},addCom:function(e,t){var n=e.commit,r=e.getters;return new Promise(function(e,o){var a=t.container||r.getPageData[r.getPageData.length-1],u=r.getCurrentCom?r.getCurrentCom:a,g=void 0;if(0!==u.$$level&&t.com.$$level!==u.$$level)g=u;else for(g=i(r.getPageData,r.getCurrentComKey);g.$$level===t.com.$$level;)g=i(r.getPageData,g.$$key);var m="cp-"+c.generate();t.com.$$key=m,t.com.id=m,n("ADD_COM",{cc:g,chc:t.com}),e({com:t.com,curCon:g})})},updateCom:function(e,t){var n=e.commit;return new Promise(function(e,r){n("UPDATE_COM",t),e(t.currentCom)})},changeComKey:function(e,t){var n=e.commit;return new Promise(function(e,r){n("CHANGE_COM_KEY",t),e(t)})},setBase:function(e,t){(0,e.commit)("SET_BASE",t)},setPageContent:function(e,t){var n=e.commit;return new Promise(function(e,r){n("SET_BASE",t.base),n("SET_PAGE",t.page),e(t)})},deleteCom:function(e,t){var n=e.commit,r=e.getters;return new Promise(function(e,o){var a=r.getCurrentCom;t&&t.cons&&(a=t.cons);var c=void 0;c=2===a.$$level?r.getPageData:i(r.getPageData,r.getCurrentComKey).content,n("DEL_COM",{parent:c,key:a}),e(a)})},sort:function(e,t){var n=e.commit,r=e.getters;return new Promise(function(e,o){var a=t.dragEle,c=void 0;c=2===a.$$level?r.getPageData:i(r.getPageData,a.$$key).content,t.parent=c,n("SORT_COM",t),e(!0)})},setClientWidth:function(e,t){(0,e.commit)("SET_CLIENT_WIDTH",t)}};t.default=new o.a.Store({state:g,mutations:f,actions:s,getters:m})}},[755]);
//# sourceMappingURL=store.06694f7977d8773bc5fa.js.map